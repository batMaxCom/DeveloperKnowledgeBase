# Управление пакетами

# deb
В системе Ubuntu список всех `репозиториев пакетов` хранится в файле `/etc/apt/sources.list`. 
Хотя наиболее важные репозитории программного обеспечения добавляются в этот файл автоматически, иногда может потребоваться добавить в этот список другие репозитории программного обеспечения.

Категории пакетов:
`Main`: программное обеспечение, которое официально поддерживается Canonical (разработчиком Ubuntu). Обычно это наиболее стабильное и поддерживаемое программное обеспечение
`Restricted`: главным образом поддерживаемое программное обеспечение, которое имеет некоторые ограничения в лицензии и соответственно в использовании. Например, драйверы для определенных аппаратных компонентов, которые используют определенное лицензионное соглашение, или программное обеспечение, которое необходимо купить.
`Universe`: бесплатное программное обеспечение, которое официально не поддерживается. Вы можете использовать его, и оно, скорее всего, будет работать без проблем, но получить поддержку от Canonical для программных компонентов этой категории не получится.
`Multiverse`: неподдерживаемое программное обеспечение, на которое распространяются лицензионные ограничения и которое не считается бесплатным.
`Backports`: новейшее программное обеспечение, которое однако может быть нестабильным

Частоиспользуемые параметры:

| Команда                   | Описание                                    |
| ------------------------- | ------------------------------------------- |
| `sudo dpkg -i <file>.deb` | Устанавливает `.deb`-пакет                  |
| `sudo dpkg -r <package>`  | Удаляет установленный пакет                 |
| `sudo dpkg -P <package>`  | Удаляет пакет с конфигурацией               |
| `dpkg -l`                 | Показывает список установленных пакетов     |
| `dpkg -s <package>`       | Показывает статус и инфо о пакете           |
| `dpkg -L <package>`       | Показывает, какие файлы установлены пакетом |
| `dpkg -S <file>`          | Показывает, какому пакету принадлежит файл  |


Для управления пакетами deb в Debian применялась утилита `dpkg`

Для просмотра установленных пакетов можно использовать команду:
`dpkg -l`

Для получения списка файлов, установленных пакетом (в нашем случае ufw), введите:
`dpkg -L ufw`

Вы можете установить локальный .deb файл, набрав:
`sudo dpkg -i zip_3.0-4_i386.deb`

Удаление пакета может быть выполнено так:
`sudo dpkg -r zip`

# apt (Advanced Packaging Tools)
Для `учета пакетов apt` использует базу данных, которая хранится в `/var/lib/apt`.
Параметры:

| Команда                      | Описание                                |
| ---------------------------- | --------------------------------------- |
| `sudo apt update`            | Обновляет список доступных пакетов      |
| `sudo apt upgrade`           | Обновляет установленные пакеты          |
| `sudo apt install <package>` | Устанавливает пакет                     |
| `sudo apt remove <package>`  | Удаляет пакет (оставляя конфиги)        |
| `sudo apt purge <package>`   | Удаляет пакет с конфигами               |
| `sudo apt autoremove`        | Удаляет неиспользуемые зависимости      |
| `apt list --installed`       | Показывает список установленных пакетов |
| `apt search <keyword>`       | Ищет пакеты по ключевому слову          |
| `apt show <package>`         | Показывает информацию о пакете          |
|                              |                                         |


Команда `search` позволяет найти пакеты по определенному шаблону. Например, найдем все пакеты, которые связаны с языком python и его версией 3.12
`sudo apt search python3.12`

Команда `show` позволяет отобразить информацию о пакете. Например, посмотрим информацию о пакете "python3.12":
sudo apt show python3.12

Перед установкой пакета сначала следует использовать команду `update`. 
Таким образом, система у`знает о последних доступных версиях пакетов и кэширует` список самых `последних версий` пакетов локально.
Затем выполняется install:
`sudo apt install python3.12`